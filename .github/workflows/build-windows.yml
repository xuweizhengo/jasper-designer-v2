name: Build Windows and Notify Server

on:
  push:
    branches: [ main, master ]
    tags: [ 'v*' ]
  workflow_dispatch:  # å…è®¸æ‰‹åŠ¨è§¦å‘

jobs:
  build:
    runs-on: windows-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
      
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm'
        
    - name: Setup Rust
      uses: dtolnay/rust-toolchain@stable
      with:
        targets: x86_64-pc-windows-msvc
        
    - name: Install dependencies
      run: |
        npm cache clean --force
        npm install --legacy-peer-deps

    - name: Generate compatible icons
      shell: powershell
      run: |
        Write-Host "Generating standard ICO file from base64..."

        # æ ‡å‡†çš„32x32 ICOæ–‡ä»¶ (è“è‰²èƒŒæ™¯ï¼Œç™½è‰²Jå­—æ¯)
        # è¿™æ˜¯ä¸€ä¸ªç¬¦åˆWindows 3.0 ICOæ ¼å¼æ ‡å‡†çš„æ–‡ä»¶
        $icoBase64 = @"
        AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAABAAABMLAAATCwAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////
        AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A////AP///wD///8A
        ////AP///wD///8A////AP///wD///8A////AP///wBEgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA///+/v7//v7+//7+/v/+/v7/
        /v7+//7+/v/+/v7//v7+//7+/v9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        ///+/v7//v7+//7+/v/+/v7//v7+//7+/v/+/v7//v7+//7+/v9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA///+/v7//v7+//7+/v/+/v7//v7+//7+/v/+/v7//v7+//7+/v9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA///+/v7//v7+//7+/v/+/v7//v7+
        //7+/v/+/v7//v7+//7+/v9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA///+
        /v7//v7+//7+/v/+/v7//v7+//7+/v/+/v7//v7+//7+/v9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA///+/v7//v7+//7+/v/+/v7//v7+//7+/v/+/v7//v7+//7+/v9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA///+/v7//v7+//7+/v/+/v7//v7+//7+
        /v/+/v7//v7+//7+/v9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA///+/v7/
        /v7+//7+/v/+/v7//v7+//7+/v/+/v7//v7+//7+/v9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA///+/v7//v7+//7+/v/+/v7//v7+//7+/v/+/v7//v7+//7+/v9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA///+/v7//v7+//7+/v/+/v7//v7+//7+/v/+
        /v7//v7+//7+/v9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA
        //9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID/
        /0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//
        RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9EgP//RID//0SA//9E
        gP//RID//0SA//9EgP//RID//0SA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
        AAAAAAAAAAAAAAAAAAAAAAAA
        "@

        # å°†base64è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„å¹¶ä¿å­˜ä¸ºICOæ–‡ä»¶
        $icoBytes = [Convert]::FromBase64String($icoBase64)
        [System.IO.File]::WriteAllBytes("src-tauri/icons/icon.ico", $icoBytes)

        # ç”Ÿæˆå…¶ä»–æ‰€éœ€çš„PNGæ–‡ä»¶
        Add-Type -AssemblyName System.Drawing
        $bitmap = New-Object System.Drawing.Bitmap 256, 256
        $graphics = [System.Drawing.Graphics]::FromImage($bitmap)

        # å¡«å……èƒŒæ™¯è‰²ï¼ˆè“è‰²ï¼‰
        $brush = New-Object System.Drawing.SolidBrush([System.Drawing.Color]::FromArgb(255, 68, 128, 255))
        $graphics.FillRectangle($brush, 0, 0, 256, 256)

        # ç»˜åˆ¶æ–‡å­—
        $font = New-Object System.Drawing.Font("Arial", 72, [System.Drawing.FontStyle]::Bold)
        $textBrush = New-Object System.Drawing.SolidBrush([System.Drawing.Color]::White)
        $graphics.DrawString("J", $font, $textBrush, 85, 70)

        # ä¿å­˜PNGæ–‡ä»¶
        $bitmap.Save("src-tauri/icons/icon.png", [System.Drawing.Imaging.ImageFormat]::Png)

        # åˆ›å»ºå…¶ä»–å°ºå¯¸
        $bitmap32 = New-Object System.Drawing.Bitmap $bitmap, 32, 32
        $bitmap32.Save("src-tauri/icons/32x32.png", [System.Drawing.Imaging.ImageFormat]::Png)
        $bitmap32.Dispose()

        $bitmap128 = New-Object System.Drawing.Bitmap $bitmap, 128, 128
        $bitmap128.Save("src-tauri/icons/128x128.png", [System.Drawing.Imaging.ImageFormat]::Png)
        $bitmap128.Dispose()

        # æ¸…ç†
        $graphics.Dispose()
        $bitmap.Dispose()

        Write-Host "Generated standard icons for Windows build"

    - name: Build application
      run: npm run tauri build
      
    - name: Package build files
      shell: powershell
      run: |
        $timestamp = Get-Date -Format "yyyyMMdd-HHmmss"
        $packageName = "jasper-designer-v2-GITHUB-$timestamp"
        New-Item -ItemType Directory -Path $packageName -Force
        
        # å¤åˆ¶ä¸»è¦æž„å»ºæ–‡ä»¶
        $sourcePaths = @(
          "src-tauri/target/release/bundle/msi/*.msi",
          "src-tauri/target/release/*.exe", 
          "src-tauri/target/release/*.dll"
        )
        
        foreach ($path in $sourcePaths) {
          if (Test-Path $path) {
            Copy-Item $path $packageName/ -Force -ErrorAction SilentlyContinue
          }
        }
        
        # å¤åˆ¶å‰ç«¯èµ„æº
        if (Test-Path "dist") {
          Copy-Item "dist/*" $packageName/ -Recurse -Force -ErrorAction SilentlyContinue
        }
        
        # å¤åˆ¶å›¾æ ‡
        if (Test-Path "src-tauri/icons") {
          New-Item -ItemType Directory -Path "$packageName/icons" -Force
          Copy-Item "src-tauri/icons/*" "$packageName/icons/" -Force -ErrorAction SilentlyContinue
        }
        
        # åˆ›å»ºæž„å»ºä¿¡æ¯æ–‡ä»¶
        @"
        ðŸŽ‰ Jasper Designer Windowsç‰ˆæœ¬ - GitHub Actionsæž„å»º
        
        æž„å»ºä¿¡æ¯:
        - æž„å»ºæ—¶é—´: $(Get-Date)
        - æž„å»ºæ¥æº: GitHub Actions
        - åˆ†æ”¯/æ ‡ç­¾: $env:GITHUB_REF_NAME
        - æäº¤å“ˆå¸Œ: $env:GITHUB_SHA
        - æž„å»ºID: $env:GITHUB_RUN_ID
        
        æŠ€æœ¯å€ºåŠ¡æ¸…ç†çŠ¶æ€:
        âœ… é¡¹ç›®å­˜å‚¨ä¼˜åŒ–96MB
        âœ… ç»Ÿä¸€æž„å»ºç®¡ç†ç³»ç»Ÿ  
        âœ… å¼€å‘æµç¨‹æ ‡å‡†åŒ–
        âœ… M3åŠŸèƒ½85%å®Œæˆ
        
        åŠŸèƒ½çŠ¶æ€:
        âœ… å±žæ€§é¢æ¿å®Œæ•´å®žçŽ°
        âœ… ResizeHandlesç³»ç»Ÿ (8ä¸ªæŽ§åˆ¶ç‚¹)
        âœ… å¯¹é½åˆ†å¸ƒå·¥å…· (8ç§ç®—æ³•)
        ðŸ”§ æ ¸å¿ƒå¿«æ·é”®ç³»ç»Ÿ (è¿›è¡Œä¸­)
        ðŸ“‹ ç¾¤ç»„å³é”®èœå• (å·²è®¾è®¡)
        
        ä½¿ç”¨æ–¹æ³•:
        1. è§£åŽ‹æ–‡ä»¶åŒ…
        2. è¿è¡Œ jasper-designer.exe
        3. æµ‹è¯•æ‰€æœ‰M3åŠŸèƒ½
        "@  | Out-File -FilePath "$packageName/BUILD_INFO.txt" -Encoding UTF8
        
        # åˆ›å»ºå¯åŠ¨è„šæœ¬
        @'
        @echo off
        title Jasper Designer V2 - GitHub Actionsæž„å»ºç‰ˆ
        echo ===============================================
        echo ðŸŽ‰ Jasper Designer V2 - GitHub Actionsæž„å»º
        echo ===============================================
        echo.
        echo âœ… è¿™æ˜¯ä»ŽGitHub Actionsè‡ªåŠ¨æž„å»ºçš„ç‰ˆæœ¬
        echo âœ… å·²å®ŒæˆæŠ€æœ¯å€ºåŠ¡æ¸…ç†å’Œä¼˜åŒ–
        echo âœ… M3é«˜çº§ç¼–è¾‘åŠŸèƒ½85%%å®Œæˆ
        echo.
        echo ðŸš€ å¯åŠ¨åº”ç”¨...
        start "" "jasper-designer.exe"
        '@ | Out-File -FilePath "$packageName/run-github-build.bat" -Encoding ASCII
        
        # æ‰“åŒ…
        Compress-Archive -Path $packageName -DestinationPath "$packageName.zip" -Force
        
        # è®¾ç½®çŽ¯å¢ƒå˜é‡ä¾›åŽç»­æ­¥éª¤ä½¿ç”¨
        echo "PACKAGE_NAME=$packageName" >> $env:GITHUB_ENV
        echo "PACKAGE_ZIP=$packageName.zip" >> $env:GITHUB_ENV
        
        # æ˜¾ç¤ºæž„å»ºç»“æžœ
        echo "ðŸ“¦ æž„å»ºåŒ…åˆ›å»ºå®Œæˆ: $packageName.zip"
        Get-ChildItem $packageName | Format-Table Name, Length, LastWriteTime
      
    - name: Upload to server
      uses: appleboy/scp-action@v0.1.5
      with:
        host: ${{ secrets.SERVER_HOST }}
        username: ${{ secrets.SERVER_USERNAME }}
        key: ${{ secrets.SERVER_SSH_KEY }}
        port: ${{ secrets.SERVER_PORT }}
        source: "${{ env.PACKAGE_ZIP }}"
        target: "/root/project/jasper/builds/github-actions/"
        
    - name: Create server notification and cleanup
      uses: appleboy/ssh-action@v1.0.3
      with:
        host: ${{ secrets.SERVER_HOST }}
        username: ${{ secrets.SERVER_USERNAME }}
        key: ${{ secrets.SERVER_SSH_KEY }}
        port: ${{ secrets.SERVER_PORT }}
        script: |
          # åˆ›å»ºé†’ç›®çš„é€šçŸ¥æ–‡ä»¶
          cat > /root/NEW_GITHUB_BUILD_READY.txt << EOF
          =====================================
          ðŸŽ‰ GitHub Actions æž„å»ºå®Œæˆï¼
          =====================================
          é¡¹ç›®: Jasper Designer V2
          æž„å»ºæ—¶é—´: $(date '+%Y-%m-%d %H:%M:%S')
          æž„å»ºæ¥æº: GitHub Actions (WindowsçŽ¯å¢ƒ)
          åˆ†æ”¯/æ ‡ç­¾: ${{ github.ref_name }}
          æäº¤ä¿¡æ¯: ${{ github.event.head_commit.message }}
          æäº¤å“ˆå¸Œ: ${{ github.sha }}
          æž„å»ºID: ${{ github.run_id }}
          
          ðŸ“¦ æž„å»ºæ–‡ä»¶:
          ä½ç½®: /root/project/jasper/builds/github-actions/${{ env.PACKAGE_ZIP }}
          å¤§å°: $(du -sh "/root/project/jasper/builds/github-actions/${{ env.PACKAGE_ZIP }}" | cut -f1)
          
          ðŸ“ ä½¿ç”¨æ–¹æ³•:
          1. è§£åŽ‹æž„å»ºåŒ…:
             cd /root/project/jasper/builds/github-actions/
             unzip "${{ env.PACKAGE_ZIP }}"
          
          2. ä¸‹è½½åˆ°æœ¬åœ°WindowsçŽ¯å¢ƒæµ‹è¯•:
             scp root@43.160.200.239:/root/project/jasper/builds/github-actions/${{ env.PACKAGE_ZIP }} ./
          
          3. WindowsçŽ¯å¢ƒè¿è¡Œ:
             è§£åŽ‹åŽåŒå‡» jasper-designer.exe æˆ– run-github-build.bat
          
          ðŸ§ª æµ‹è¯•é‡ç‚¹:
          - åŸºç¡€åŠŸèƒ½: ç•Œé¢åŠ è½½ã€ç»„ä»¶æ‹–æ‹½ã€å…ƒç´ é€‰æ‹©
          - M3åŠŸèƒ½: å±žæ€§é¢æ¿ã€ResizeHandlesã€å¯¹é½å·¥å…·
          - æŠ€æœ¯å€ºåŠ¡: éªŒè¯æ¸…ç†åŽåŠŸèƒ½å®Œæ•´æ€§
          
          ðŸ—‘ï¸ æŸ¥çœ‹åŽåˆ é™¤æ­¤æ–‡ä»¶:
          rm /root/NEW_GITHUB_BUILD_READY.txt
          =====================================
          EOF
          
          # åˆ›å»ºæž„å»ºåŽ†å²è®°å½•
          echo "$(date '+%Y-%m-%d %H:%M:%S'): GitHub Actionsæž„å»ºå®Œæˆ - ${{ env.PACKAGE_ZIP }} (åˆ†æ”¯: ${{ github.ref_name }})" >> /root/github-build-history.log
          
          # åˆ›å»ºæœ€æ–°ç‰ˆæœ¬è½¯é“¾æŽ¥
          cd /root/project/jasper/builds/github-actions/
          ln -sf "${{ env.PACKAGE_ZIP }}" jasper-latest-github.zip
          
          # æ¸…ç†è¶…è¿‡5ä¸ªçš„æ—§æž„å»ºæ–‡ä»¶
          ls -t jasper-designer-v2-GITHUB-*.zip 2>/dev/null | tail -n +6 | xargs rm -f 2>/dev/null || true
          
          # æ˜¾ç¤ºå½“å‰æž„å»ºæ–‡ä»¶
          echo ""
          echo "ðŸ“ å½“å‰GitHub Actionsæž„å»ºæ–‡ä»¶:"
          ls -lah /root/project/jasper/builds/github-actions/jasper-designer-v2-GITHUB-*.zip 2>/dev/null || echo "æ— åŽ†å²æž„å»ºæ–‡ä»¶"
          echo ""
          echo "ðŸ”— æœ€æ–°æž„å»ºè½¯é“¾æŽ¥:"
          ls -lah /root/project/jasper/builds/github-actions/jasper-latest-github.zip 2>/dev/null || echo "è½¯é“¾æŽ¥åˆ›å»ºå¤±è´¥"
          
    - name: Upload build artifacts (GitHubå¤‡ä»½)
      uses: actions/upload-artifact@v4
      with:
        name: jasper-designer-windows-${{ github.run_id }}
        path: ${{ env.PACKAGE_ZIP }}
        retention-days: 30